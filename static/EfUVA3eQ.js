import{_ as R}from"./BBz1LpKL.js";import{_ as F}from"./CcbIFwDQ.js";import{c as V,_ as T}from"./zU16tZkJ.js";import{u as $,f as y,r as B,s as I,g as K,h as L,i as q,j as J,k as N,l as U,m as b,n as G,q as Q,v as M,o as g,c as D,x as z,y as E,a as l,b as i,w as d,d as p,F as S,z as W,t as C}from"./ClOLF6A3.js";import"./COh7TJT1.js";const X=t=>t==="defer"||t===!1;function Y(...t){var j;const n=typeof t[t.length-1]=="string"?t.pop():void 0;typeof t[0]!="string"&&t.unshift(n);let[a,u,e={}]=t;if(typeof a!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof u!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const s=$(),f=u,w=()=>y.value,x=()=>s.isHydrating?s.payload.data[a]:s.static.data[a];e.server=e.server??!0,e.default=e.default??w,e.getCachedData=e.getCachedData??x,e.lazy=e.lazy??!1,e.immediate=e.immediate??!0,e.deep=e.deep??y.deep,e.dedupe=e.dedupe??"cancel";const v=()=>e.getCachedData(a,s)!=null;if(!s._asyncData[a]||!e.immediate){(j=s.payload._errors)[a]??(j[a]=y.errorValue);const c=e.deep?B:I;s._asyncData[a]={data:c(e.getCachedData(a,s)??e.default()),pending:B(!v()),error:K(s.payload._errors,a),status:B("idle"),_default:e.default}}const r={...s._asyncData[a]};delete r._default,r.refresh=r.execute=(c={})=>{if(s._asyncDataPromises[a]){if(X(c.dedupe??e.dedupe))return s._asyncDataPromises[a];s._asyncDataPromises[a].cancelled=!0}if((c._initial||s.isHydrating&&c._initial!==!1)&&v())return Promise.resolve(e.getCachedData(a,s));r.pending.value=!0,r.status.value="pending";const m=new Promise((_,o)=>{try{_(f(s))}catch(P){o(P)}}).then(async _=>{if(m.cancelled)return s._asyncDataPromises[a];let o=_;e.transform&&(o=await e.transform(_)),e.pick&&(o=k(o,e.pick)),s.payload.data[a]=o,r.data.value=o,r.error.value=y.errorValue,r.status.value="success"}).catch(_=>{if(m.cancelled)return s._asyncDataPromises[a];r.error.value=U(_),r.data.value=b(e.default()),r.status.value="error"}).finally(()=>{m.cancelled||(r.pending.value=!1,delete s._asyncDataPromises[a])});return s._asyncDataPromises[a]=m,s._asyncDataPromises[a]},r.clear=()=>Z(s,a);const h=()=>r.refresh({_initial:!0}),H=e.server!==!1&&s.payload.serverRendered;{const c=G();if(c&&!c._nuxtOnBeforeMountCbs){c._nuxtOnBeforeMountCbs=[];const o=c._nuxtOnBeforeMountCbs;L(()=>{o.forEach(P=>{P()}),o.splice(0,o.length)}),q(()=>o.splice(0,o.length))}H&&s.isHydrating&&(r.error.value||v())?(r.pending.value=!1,r.status.value=r.error.value?"error":"success"):c&&(s.payload.serverRendered&&s.isHydrating||e.lazy)&&e.immediate?c._nuxtOnBeforeMountCbs.push(h):e.immediate&&h();const m=Q();if(e.watch){const o=J(e.watch,()=>r.refresh());m&&N(o)}const _=s.hook("app:data:refresh",async o=>{(!o||o.includes(a))&&await r.refresh()});m&&N(_)}const O=Promise.resolve(s._asyncDataPromises[a]).then(()=>r);return Object.assign(O,r),O}function Z(t,n){n in t.payload.data&&(t.payload.data[n]=void 0),n in t.payload._errors&&(t.payload._errors[n]=y.errorValue),t._asyncData[n]&&(t._asyncData[n].data.value=void 0,t._asyncData[n].error.value=y.errorValue,t._asyncData[n].pending.value=!1,t._asyncData[n].status.value="idle"),n in t._asyncDataPromises&&(t._asyncDataPromises[n]&&(t._asyncDataPromises[n].cancelled=!0),t._asyncDataPromises[n]=void 0)}function k(t,n){const a={};for(const u of n)a[u]=t[u];return a}const A=M({__name:"Card",props:{class:{}},setup(t){const n=t;return(a,u)=>(g(),D("div",{class:E(b(V)("rounded-lg border bg-card text-card-foreground shadow-sm",n.class))},[z(a.$slots,"default")],2))}}),ee=M({__name:"CardContent",props:{class:{}},setup(t){const n=t;return(a,u)=>(g(),D("div",{class:E(b(V)("p-6 pt-0",n.class))},[z(a.$slots,"default")],2))}}),ae=()=>{var t;return(t=$().$supabase)==null?void 0:t.client},te={class:"bg-primary text-primary-foreground py-4 px-6 flex items-center justify-between"},se=l("div",{class:"flex items-center gap-2"},[l("span",{class:"text-xl font-bold"},"Member")],-1),re={class:"hidden md:flex items-center gap-6"},ne={class:"flex flex-col min-h-screen"},oe={class:"flex-1"},ce={class:"py-10 px-6"},le={class:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ie={class:"text-xl font-bold mb-2"},de={class:"text-muted-foreground mb-4"},ue={class:"flex items-center justify-between"},fe={class:"text-2xl font-bold"},ve=M({__name:"member",setup(t){const n=ae(),{data:a,error:u}=Y("Member",async()=>{const{data:e,error:s}=await n.from("Member").select("*");return e});return(e,s)=>{const f=R,w=F,x=T,v=ee,r=A;return g(),D(S,null,[l("header",te,[se,l("nav",re,[i(f,{class:"hover:underline",to:"/about"},{default:d(()=>[p("About")]),_:1}),i(f,{class:"hover:underline",to:"/member"},{default:d(()=>[p("Member")]),_:1}),i(f,{class:"hover:underline",to:"/journey"},{default:d(()=>[p("Journey")]),_:1}),i(f,{class:"hover:underline",to:"/other"},{default:d(()=>[p("Other")]),_:1})])]),l("div",ne,[l("main",oe,[l("section",ce,[l("div",le,[(g(!0),D(S,null,W(b(a),h=>(g(),D("div",null,[i(r,null,{default:d(()=>[i(w,{src:"/pink_fc.png",class:"rounded-t-lg object-cover w-full h-48"}),i(v,{class:"p-4"},{default:d(()=>[l("h3",ie,C(h.name),1),l("p",de,C(h.place),1),l("div",ue,[l("div",fe,C(h.words),1),i(f,{to:"/"},{default:d(()=>[i(x,null,{default:d(()=>[p("info")]),_:1})]),_:1})])]),_:2},1024)]),_:2},1024)]))),256))])])])]),i(f,{to:"/"},{default:d(()=>[i(x,null,{default:d(()=>[p("首頁")]),_:1})]),_:1}),p(" "+C(b(a)),1)],64)}}});export{ve as default};
